<!-- DO NOT EDIT THIS FILE; it is auto-generated from readme.txt -->
# LoggedIn - Limit Active Logins

Light weight WordPress plugin to limit number of active logins from an account. Set maximum number of concurrent logins a user can have from multiple places.

**Contributors:** [Joel James](https://profiles.wordpress.org/joelcj91)  
**Requires at least:** 4.0<br />
**Tested up to:** 5.2<br />
**Stable tag:** 1.2.0<br />
**Requires PHP:** 5.6<br />
**License:** [GPLv2+](https://www.gnu.org/licenses/gpl-2.0.html)  


## Description ##

By default in WordPress users can login using one account from **unlimited** devices/browsers at a time. This is not good for everyone, seriously! With this plugin you can easily set a limit for no. of active logins a user can have.

> #### LoggedIn - Features and Advantages
>
> - **Set maximum no. of active logins for a user**.<br />
> - **Block new logins when the login limit is reached.**<br />
> - **Allow new logins while logging out from other devices when the limit is reached.**<br />
> - Prevent users from sharing their account.<br />
> - Useful for membership sites (for others too).<br />
> - No complex settings. Just one optional field to set the limit.<br />
> - Super Light weight.<br />
> - Filter to bypass login limit for certain users or roles.<br />
> - Completely free to use with lifetime updates.<br />
> - Follows best WordPress coding standards.<br />

> [Installation](https://wordpress.org/plugins/loggedin/installation/) | [Support](http://wordpress.org/support/plugin/loggedin/) | [Screenshots](https://wordpress.org/plugins/loggedin/screenshots/)

**Development is on [GitHub](https://github.com/joel-james/LoggedIn). Pull requests to dev brach are welcome.

## Frequently Asked Questions ##

### How can I set the limit, and where? ü§î ###
This plugin does not have a seperate settings page. But we have one configural settings to let you set the login limit.

1. Go to `Settings` page in admin dashboard.
2. Scroll down to see the section `üîê Loggedin`.
3. Set the maximum number of active logins a user can have in `Maximum Active Logins` option.

### Can I somehow allow new logins when the limit is reached? ü§î ###

You can forcefully logout the user from other devices and allow new login.

1. Go to `Settings` page in admin dashboard.
2. Scroll down to see the section `üîê Loggedin`.
3. Select the `Login Logic` as `Allow`.

### Can I block the new logins when the limit is reached? ü§î ###

You block the new logins when the user is logged in from maximum no. of devices according to the limit you set.

1. Go to `Settings` page in admin dashboard.
2. Scroll down to see the section `üîê Loggedin`.
3. Select the `Login Logic` as `Block`.
4. Now user will have to wait for the other login sessions to expire before login from new device.

### How long a login session exist? How long the user needs to wait for new login? ü§î ###

That depends. If the ‚ÄúRemember Me‚Äù box is checked while login, WordPress will keep the user logged in for 14 days by default. If ‚ÄúRemember Me‚Äù is not checked, 2 days will be the active login session time.

You can change that period using, auth_cookie_expiration filter.

<pre lang="php">
function loggedin_auth_cookie_expiration( $expire ) {
    // Allow for a month.
    return MONTH_IN_SECONDS;
}

add_filter( 'auth_cookie_expiration', 'loggedin_auth_cookie_expiration' );
</pre>

### How can I forcefully logout a user from all devices? ü§î ###
You can forcefully logout a user from all the devices he has logged into. Get his WordPress user ID and,

1. Go to `Settings` page in admin dashboard.
2. Scroll down to see the section `üîê Loggedin`.
3. Enter user ID of the user you would like to logout.
4. Click `Force Logout`.

### Can I bypass this limit for certain users or roles? ü§î ###
Yes, of course. But this time you are going to add few lines of code. Don't worry. Just copy+paste this code in your theme's `functions.php` file or in custom plugin:

```php
function loggedin_bypass_users( $bypass, $user_id ) {
    
    // Enter the user IDs to bypass.
    $allowed_users = array( 1, 2, 3, 4, 5 );

    return in_array( $user_id, $allowed_users );

}

add_filter( 'loggedin_bypass', 'loggedin_bypass_users', 10, 2 );
```

Or if you want to bypass this for certain roles:

```php
function loggedin_bypass_roles( $prevent, $user_id ) {

    // Array of roles to bypass.
    $allowed_roles = array( 'administrator', 'editor' );

    $user = get_user_by( 'id', $user_id );

    $roles = ! empty( $user->roles ) ? $user->roles : array();

    return ! empty( array_intersect( $roles, $allowed_roles ) );

}

add_filter( 'loggedin_bypass', 'loggedin_bypass_roles', 10, 2 );
```


## Changelog ##

Please see [here](https://wordpress.org/plugins/loggedin/changelog/).
